{
  "project_metadata": {
    "name": "DeploySentinel - Extensão para gravação, automação e replay de testes UI em navegadores (Web/Mobile/Desktop) com integração Cypress e Playwright",
    "domain": [
      "Web/Mobile/Desktop Automation",
      "Browser Extension",
      "Frontend Development",
      "UI Testing",
      "Test Automation",
      "End-to-End Testing",
      "Recording and Replay",
      "Quality Assurance",
      "DevOps",
      "Software Development",
      "User Session Recording",
      "Web Analytics",
      "Data Integrity",
      "Branding",
      "Dark Mode Theming"
    ],
    "current_phase": [
      "Production",
      "Development",
      "Stable with active monitoring and multi-session support",
      "Incremental feature development",
      "Automated testing integrated",
      "MVP",
      "Refactoring and stabilization with data migration focus"
    ],
    "critical_business_rules": [
      "Preserve fast refresh functionality",
      "Ensure JSX transpilation compatibility",
      "Build must generate consistent artifacts",
      "Do not break deploy pipeline",
      "Accurate and complete user event capture",
      "Correct and readable script generation",
      "Compatibility with multiple test frameworks (Cypress, Playwright, Puppeteer)",
      "Isolated test environment required",
      "Consistent configuration for CI/CD",
      "Generate precise and reliable Cypress scripts",
      "Support for manifest v2 and v3 (Chrome and Firefox)",
      "Maintain build and zipped package integrity",
      "Accurate recording of user interactions",
      "Scripts must be valid and compatible with supported frameworks",
      "Secure access to browser permissions",
      "Data privacy and security for captured data",
      "Allow secure integration with authorized domains",
      "Ensure recording state integrity and synchronization across tabs and frames",
      "Do not allow recording in unauthorized tabs or frames",
      "Consistent replay data to prevent reproduction failures",
      "Correct lifecycle management for recording and replay sessions",
      "Strict message origin validation",
      "Secure communication between webapp and extension",
      "Visual consistency for icons and branding",
      "React 18+ compatibility",
      "SVG rendering correctness",
      "Performance requirements for logo and UI loading",
      "Script type must always be Cypress",
      "UI must maintain visual compatibility",
      "Recording must always use the first captured URL for session consistency",
      "Recordings without actions must not be saved",
      "Log save failures without interrupting flow",
      "Generated code is sent only if returnTabId is defined",
      "Mandatory use of Cypress library for scripts",
      "Consistent persistence of user preferences",
      "Real-time synchronization of recording state",
      "Correct persistence of recording state to prevent data loss",
      "Compatibility between manifest v2 and v3 for script execution",
      "Accurate identification of Cypress test tabs for integration",
      "Only supported action types should be rendered",
      "Sensitive input values must be masked",
      "Correctly formatted code rendering",
      "Support for multiple script types",
      "Performance and responsiveness in rendering",
      "Recording must capture all relevant user actions without loss",
      "Generated code must be valid and compatible",
      "UI overlay must not interfere with user interaction",
      "Recording state must be correctly synchronized between tabs and components",
      "Accurate selector highlighting and positioning",
      "Consistent label rendering",
      "Do not interfere with user interaction",
      "Ensure only one active script instance",
      "Allow complete component cleanup to prevent leaks",
      "Do not register duplicate events of the same type in immediate sequence",
      "Ignore events originating from overlay UI to avoid noise",
      "Persist recording in local storage for recovery and continuity",
      "Capture first visited URL only once for session context",
      "Only one recording active at a time",
      "Do not mount multiple buttons in the DOM",
      "Correct communication with Chrome extension",
      "Only one tab can be recording at a time",
      "Correct persistence and migration of last recorded test",
      "Correct synchronization between tab state and recording state",
      "Validate existence of AUT frame for Cypress recording",
      "Ensure user anonymity",
      "Send event data without impacting UX",
      "Maintain integrity of sent data",
      "Render Popup in correct container",
      "Apply global and themed styles without conflict",
      "Generate unique and valid selectors",
      "Maintain acceptable performance",
      "Avoid ambiguous selectors",
      "Generate valid Cypress scripts",
      "Respect timing between actions",
      "Maintain integrity of stateful actions",
      "Selectors must be unique and stable",
      "Invalid IDs must not be used",
      "Prioritize accessibility and test attributes",
      "Correct and typed import of static files to avoid build errors",
      "Ensure Chrome and Firefox API calls are compatible",
      "All actions must have valid, non-negative, and sequential timestamps",
      "Scripts must accurately reflect user actions",
      "Valid and executable Cypress commands",
      "Accurate user action recording",
      "Correct Cypress code generation",
      "Browser context isolation",
      "Consistent visual feedback on interactive elements",
      "Accessibility compliance",
      "Responsive layout support",
      "Recording and replay state synchronization",
      "Do not allow replay execution with empty actions",
      "Valid and functional Cypress code generation",
      "Correct cache control to avoid replay inconsistencies",
      "Do not allow deletion without user confirmation",
      "Data integrity during import/export",
      "Synchronization between local state and persistent storage",
      "Show updated data after modification operations",
      "Consistent UI layout and accessible typography",
      "Responsive scrolling behavior",
      "No empty recordings allowed",
      "Generate unique IDs to avoid collisions",
      "Preserve urlOriginal as main field",
      "Correct Cypress code generation for tests",
      "Respect maximum stored recordings to avoid quota overflow",
      "Data integrity for migrated entries between old and new versions",
      "Reliable persistence of recordings and execution logs",
      "Avoid data loss during concurrent operations via debounce and save queue",
      "Temporal integrity of recordings (startedAt < endedAt)",
      "Unique ID format {hostname}:{yyyy-MM-dd_HH-mm}",
      "Preserve actions and logs for reliable replay",
      "Apply pruneStrategy for recording limit control",
      "Consistent dark mode application",
      "Accessibility compliance for color contrast",
      "Consistent visual identity",
      "Accessibility and responsiveness",
      "Consistent dark theme visuals",
      "Layout responsiveness",
      "Minimum contrast for accessibility",
      "Consistent visuals between views and themes",
      "Clear navigation with back button",
      "Clear visual feedback for user actions",
      "Minimum accessibility for reading and navigation",
      "Consistent theme visuals",
      "Basic accessibility for navigation",
      "Maintain visual and responsive integrity",
      "Accessibility and usability",
      "Preserve user selection states and actions",
      "Valid filenames for file systems",
      "Downloads must trigger without failures",
      "Exported content must reflect generated code",
      "Do not truncate texts shorter than limit",
      "Preserve full domain in truncated URLs",
      "High legibility and usability in dark theme",
      "Responsiveness and accessibility on multiple devices",
      "Clear and distinct error/loading states",
      "Consistent and interactive buttons/tabs",
      "Responsive usability on mobile devices",
      "High contrast for accessibility",
      "Consistent visuals across all components",
      "800x600 resolution compatibility",
      "Strict data validation",
      "Transactional consistency",
      "Role-based access control",
      "All recordings must have urlOriginal for traceability and compatibility",
      "Migrations must not run multiple times to avoid inconsistencies",
      "Correct and reliable execution of actions sent by background",
      "Prompt response to PING messages for availability",
      "Maintain execution logs for audit and debugging",
      "Handle errors without interrupting async message flow",
      "Viewport width must be within valid limits",
      "Sanitize URLs to prevent XSS",
      "Export commands must not be empty",
      "Test names must escape special characters to avoid parsing failures",
      "Correct and synchronized replay state update from background messages",
      "SessionId integrity to avoid session conflicts",
      "Robust error handling to avoid UI lock",
      "Configurable cache control for performance optimization",
      "Reliable communication between popup and background",
      "Replay session state integrity",
      "Robust error handling to avoid inconsistent states",
      "Automatic retry up to configured maximum",
      "Consistent progress persistence",
      "Timeouts to avoid indefinite blocking",
      "Reliable user configuration persistence",
      "Default config fallback on error",
      "Partial updates must preserve existing data",
      "Reliable action execution with controlled retries",
      "Complete execution logs for audit",
      "Select best available selector for precision",
      "Avoid silent failures when elements not found",
      "Click only on visible and available elements",
      "Try multiple selectors in priority order before failing",
      "Capture visual evidence after successful click",
      "Do not execute without valid selectors",
      "Each ActionType must have a registered executor",
      "Return null only if no executor available",
      "Executors must be singleton to avoid unnecessary instances",
      "Correct value insertion in input fields",
      "Password confidentiality (isPassword)",
      "Retries for temporary failures",
      "Trigger input and change events for state update",
      "Ensure URL is loaded before proceeding",
      "Capture screenshot after load for validation",
      "Avoid unnecessary reload if already on correct URL",
      "Correct navigation to specified URLs",
      "Screenshot capture after navigation",
      "Robust error handling for navigation failures",
      "Window resize must occur with exact requested dimensions",
      "Screenshot only after resize is complete",
      "Handle background script communication errors to avoid silent failures",
      "Screenshot actions must be timestamped",
      "Async execution must not block main flow",
      "Real capture must be done exclusively by background script",
      "Smooth scroll to avoid visual failures",
      "Mandatory screenshot after scroll",
      "Error handling for execution failures",
      "Correct wheel event dispatch with valid deltaX and deltaY",
      "Screenshot after action for validation",
      "Error handling to avoid silent failures",
      "Replay event integrity and synchronization",
      "Consistent state during pause and resume",
      "Correct application of settings without data loss",
      "Replay message integrity and synchronization",
      "No invalid commands or inconsistent states",
      "Complete traceability of events and errors",
      "Session state integrity (coherent statuses)",
      "Correct persistence of execution logs",
      "Precise control of current action index",
      "Proper error handling to avoid silent failures",
      "Event delivery to all registered listeners",
      "No exception leakage in handlers",
      "Listener map integrity",
      "Mocks must accurately simulate browser APIs",
      "No side effects during tests",
      "Performance api must be available",
      "Real-time log updates after storage changes",
      "Data integrity and consistency in UI",
      "Do not show screenshots with errors without proper handling",
      "Performance via virtual scrolling for large data volumes",
      "Execution logs must show precise timestamps and clear descriptions",
      "Screenshots only shown if valid, errors must be handled and indicated",
      "Reactive log updates on local storage changes",
      "Virtual scrolling must ensure performance without data loss",
      "Log legibility and accessibility in all themes and devices",
      "Thumbnail and lightbox visual integrity to avoid user confusion",
      "Responsive usability in multiple resolutions",
      "Do not overwrite urlOriginal if already exists",
      "Recordings must have valid urlOriginal (firstUrl, url or fallback 'unknown')",
      "ExecutionLogs integrity and pruning to avoid quota overflow",
      "Debounce to avoid multiple simultaneous storage writes",
      "Sequential and correct execution of recorded actions",
      "Session state persistence for recovery after failures",
      "Execution logs and screenshots integrity",
      "Correct session state management (RUNNING, PAUSED, COMPLETED, ERROR)",
      "Do not execute actions in non-existent or closed tabs",
      "Capture only active and focused tabs",
      "Handle permission and tab errors without critical failures",
      "Limit capture frequency to avoid overload",
      "Reduce image quality to maintain acceptable size",
      "Screenshot capture must respect 5MB limit to avoid memory overload",
      "Captures must have minimum 100ms interval to avoid overload",
      "Tab must be active and focused for valid capture",
      "Permission errors must be handled and reported correctly",
      "Screenshot capture must occur for all actions during replay",
      "Capture errors must be handled without interrupting flow",
      "Execution logs must update in real time",
      "Recording data must be stored and retrieved correctly"
    ]
  },
  "technical_stack": {
    "primary_language": [
      "TypeScript 5.x",
      "JavaScript ES2022",
      "React 18.x",
      "Node.js 18",
      "CSS3",
      "JSON"
    ],
    "frameworks": [
      "React 18.x",
      "Webpack 5.x",
      "Babel",
      "Cypress 12.x",
      "Playwright 1.x",
      "Puppeteer",
      "Jest 29.x",
      "ts-jest",
      "@tanstack/react-table 8.21.3",
      "Chrome Extensions API (Manifest V3)",
      "WebExtensions API (Firefox compatibility)",
      "react-syntax-highlighter 15.x",
      "Lodash 4.17",
      "FontAwesome 6.x",
      "ReactDOM",
      "Express 4.18.2",
      "Mongoose 6.7.0",
      "Testing Library DOM",
      "React Testing Library"
    ],
    "databases": [
      "chrome.storage.local",
      "IndexedDB (via RecordingService)",
      "LocalStorage (browser)",
      "MongoDB 6.0",
      "Chrome Storage Sync API"
    ],
    "external_services": [
      "Chrome Web Store",
      "Firefox Add-ons Marketplace",
      "GitHub Actions",
      "Browser APIs (chrome.*, browser.*)",
      "DeploySentinel Webapp",
      "Chrome Runtime Messaging API",
      "Chrome Tabs API",
      "Chrome WebNavigation API",
      "Clipboard API (react-copy-to-clipboard)",
      "Google Analytics Measurement Protocol API",
      "@fortawesome/fontawesome-svg-core",
      "Cypress Test Runner",
      "Replay backend services",
      "REST APIs for authentication and notifications",
      "Font icon libraries (FontAwesome)",
      "Browser Web APIs (Blob, URL, DOM)",
      "File system APIs for import/export JSON",
      "Chrome Scripting API",
      "Chrome BrowsingData API"
    ],
    "package_manager": ["npm", "yarn"]
  },
  "architecture_patterns": {
    "design_pattern": [
      "Modular Architecture",
      "Event-driven Architecture",
      "Observer Pattern",
      "Singleton",
      "Component-based UI",
      "Builder Pattern",
      "Factory Method",
      "Service Layer Abstraction",
      "Repository Pattern",
      "Facade Pattern",
      "Command Pattern",
      "Template Method",
      "Strategy Pattern",
      "Functional Programming",
      "Separation of Concerns",
      "Hooks Pattern",
      "Atomic Design",
      "BEM CSS Naming",
      "Virtual Scrolling",
      "Debounce for async operations"
    ],
    "folder_structure": [
      "src/",
      "src/components/",
      "src/builders/",
      "src/types/",
      "src/utils/",
      "src/hooks/",
      "src/services/",
      "src/store/",
      "src/replay/",
      "src/assets/",
      "src/styles/",
      "src/pages/",
      "background/",
      "content_scripts/",
      "popup/",
      "tests/",
      "dist/",
      "config/",
      "node_modules/"
    ],
    "naming_conventions": [
      "camelCase for variables and functions",
      "PascalCase for React components, classes, and types",
      "kebab-case for files and CSS classes",
      "UPPER_SNAKE_CASE for constants and enums",
      "Prefix 'use' for custom hooks",
      "BEM-like for CSS classes",
      "Descriptive file and folder names",
      "manifest.json for main config",
      "snake_case for static assets"
    ],
    "module_boundaries": [
      "Separation between config and source code",
      "Clear separation between background scripts, content scripts, and UI (popup)",
      "Communication via messages between scripts",
      "Separation between UI components and business logic",
      "Hooks for state and side effects",
      "Service modules for data persistence and replay",
      "Types centralized in types/",
      "Utils and builders as decoupled helper modules",
      "Isolated styles per component",
      "Unidirectional dependencies for maintainability",
      "Test code isolated from production code"
    ]
  },
  "code_standards": {
    "style_guide": [
      "Airbnb JavaScript/TypeScript Style Guide",
      "CSS Standard Practices",
      "BEM Methodology",
      "TypeScript Standard Style",
      "JSDoc for documentation"
    ],
    "linting_rules": [
      "ESLint with React and TypeScript plugins",
      "ESLint with Airbnb config",
      "ESLint with rules for async/await, no-explicit-any, strict typing",
      "stylelint for CSS",
      "No unused variables",
      "Strict null checks",
      "No implicit any",
      "No dead code",
      "No side effects in pure functions"
    ],
    "formatting": [
      "Prettier",
      "singleQuote: true",
      "trailingComma: es5",
      "printWidth: 80",
      "arrowParens: always",
      "Consistent indentation and spacing"
    ],
    "documentation_style": [
      "JSDoc for functions, classes, and public APIs",
      "Inline comments for business context",
      "Clear and concise comments in Portuguese"
    ],
    "type_checking": [
      "Strict TypeScript (strict mode enabled)",
      "Explicit interfaces and types",
      "NoImplicitAny enabled",
      "Union types for message safety"
    ]
  },
  "testing_strategy": {
    "test_framework": [
      "Jest 29.x",
      "Playwright 1.x",
      "Cypress 12.x",
      "React Testing Library"
    ],
    "test_structure": [
      "__tests__ folders or *.test.ts(x) files",
      "tests/unit/ for unit tests",
      "tests/integration/ for integration tests",
      "tests/e2e/ for end-to-end tests",
      "Describe/it structure",
      "Mocks and fixtures for isolation"
    ],
    "coverage_requirements": [
      "Minimum 80% coverage",
      "Minimum 85% for critical modules",
      "High coverage for core logic and UI"
    ],
    "test_patterns": [
      "AAA (Arrange-Act-Assert)",
      "Given-When-Then for E2E and behavioral tests",
      "Snapshot testing for UI components",
      "Mocking for browser APIs and services"
    ],
    "mocking_approach": [
      "jest.mock for modules and browser APIs",
      "Fixtures for input data",
      "Manual mocks for Chrome APIs",
      "Mocks for external services and dependencies",
      "jest.fn() for spies and stubs"
    ]
  },
  "development_workflow": {
    "branch_strategy": [
      "GitHub Flow with feature and main branches",
      "git Flow with feature, develop, and main branches"
    ],
    "commit_conventions": ["Conventional Commits for standardized messages"],
    "pr_requirements": [
      "Code review mandatory",
      "CI checks",
      "Passing tests required",
      "Lint and build checks"
    ],
    "ci_cd_pipeline": [
      "Linting",
      "Testing",
      "Build",
      "Deploy",
      "Automated via GitHub Actions",
      "Unit and E2E tests",
      "Deploy to Chrome Web Store and Firefox Add-ons Marketplace"
    ]
  },
  "commands": {
    "setup": ["npm install", "yarn install"],
    "install": ["npm install", "yarn install", "npm ci"],
    "dev": [
      "npm run dev",
      "yarn start",
      "yarn run start-chrome",
      "yarn run start-ff",
      "webpack --mode development --watch"
    ],
    "test": [
      "npm test",
      "yarn test",
      "npx jest --verbose",
      "npx cypress open",
      "npx playwright test"
    ],
    "build": [
      "npm run build",
      "yarn build",
      "yarn run build-chrome",
      "yarn run build-ff",
      "webpack --mode production"
    ],
    "lint": ["npm run lint", "yarn lint", "eslint . --ext .js,.jsx,.ts,.tsx"],
    "format": ["npm run format", "yarn format", "prettier --write ."]
  },
  "security_constraints": {
    "authentication_method": [
      "OAuth2 for DeploySentinel Webapp integration",
      "Token-based Authentication (JWT) for APIs",
      "Chrome Identity API (implicit for extension)",
      "No direct authentication in local modules"
    ],
    "authorization_rules": [
      "Explicit permissions in manifest for tabs, scripting, and storage",
      "Recording restricted to authorized tabs and frames",
      "Message origin validation",
      "Role-based access control for recording and replay",
      "Access restricted to local browser storage",
      "Chrome Extension permissions for sensitive operations"
    ],
    "sensitive_data": [
      "User navigation data handled locally, not sent externally without authorization",
      "URLs and session data stored locally",
      "Password inputs masked in UI and logs",
      "Session IDs and tokens treated as sensitive",
      "Screenshots may contain sensitive data, stored locally and shown only to authorized users",
      "No sensitive data stored in test/mocks"
    ],
    "security_headers": [
      "Content Security Policy configured via manifest",
      "Managed by browser extension environment",
      "X-Frame-Options",
      "Strict-Transport-Security",
      "Access-Control-Allow-Origin: *"
    ],
    "encryption_requirements": [
      "TLS for web communication",
      "No explicit encryption for local storage (chrome.storage.local)",
      "Data in transit must be encrypted",
      "Sensitive data should be encrypted at rest and in transit",
      "Communication via HTTPS required"
    ]
  },
  "performance_requirements": {
    "response_time_limits": [
      "Real-time recording and script generation with minimal latency",
      "Async message and event processing < 100ms",
      "UI rendering < 200ms for up to 1000 actions",
      "Storage operations < 500ms for good UX",
      "API responses < 300ms on average",
      "Replay actions processed in real time",
      "Screenshot capture with minimum 100ms interval",
      "Debounced updates to avoid multiple writes within 250ms"
    ],
    "optimization_priorities": [
      "Developer experience",
      "Fast refresh",
      "Build speed",
      "Bundle size",
      "Low latency in event capture and replay",
      "Efficient memory usage during recording",
      "UI responsiveness",
      "Minimize main thread impact",
      "Rendering performance for large action lists",
      "Consistent visual feedback",
      "Accessibility and responsiveness"
    ],
    "caching_strategy": [
      "chrome.storage.local for persistent local cache",
      "LocalStorage for temporary cache",
      "Webpack build cache",
      "No explicit cache for actions",
      "CacheMode.KEEP_CACHE as default for replay performance"
    ],
    "scalability_considerations": [
      "Support for long recordings without perceptible degradation",
      "Multiple tabs and frames with isolated recording control",
      "Componentization for multiple simultaneous recordings",
      "Configurable entry limits to avoid unlimited growth",
      "Pruning strategy for storage quota control",
      "Virtual scrolling for large log volumes",
      "Horizontal scalability via modular architecture",
      "Limited to browser extension environment"
    ]
  },
  "error_handling": {
    "error_format": [
      "Standardized JSON error objects",
      "Error logs via console.error with clear messages and stack traces",
      "Promise rejections with Error objects",
      "UI error messages with clear text and icons",
      "Error strings prefixed with 'error:' for failures",
      "Execution logs with error and timestamp"
    ],
    "logging_strategy": [
      "Console logs for main events and errors",
      "Structured logs for action and failure tracing",
      "Local logs for debugging during development",
      "Error logs in background for runtime issues",
      "Real-time log updates in UI"
    ],
    "monitoring_tools": [
      "GitHub Actions for build and test monitoring",
      "Browser extension monitoring tools",
      "Sentry for error tracking (integrated externally)",
      "Custom analytics for events and recording"
    ],
    "error_recovery": [
      "Automatic retry for build and communication failures",
      "Fallback to local recording on failure",
      "Graceful error handling with clear messages",
      "Debounce to avoid multiple simultaneous writes",
      "Partial import continues on batch errors",
      "Session state persistence for recovery after failures",
      "Retry with delay for temporary failures",
      "Default config fallback on error"
    ]
  },
  "dependencies_context": {
    "critical_dependencies": [
      "React 18.x",
      "TypeScript 5.x",
      "Webpack 5.x",
      "Babel",
      "Node.js 18",
      "Cypress 12.x",
      "Playwright 1.x",
      "Jest 29.x",
      "Chrome Extensions API",
      "WebExtensions API",
      "Lodash 4.17",
      "FontAwesome 6.x",
      "react-syntax-highlighter 15.x",
      "Express 4.18.2",
      "Mongoose 6.7.0"
    ],
    "deprecated_packages": [
      "chrome.tabs.executeScript (deprecated in Manifest V3, replaced by chrome.scripting)",
      "Legacy url and firstUrl fields (migrated to urlOriginal)"
    ],
    "version_constraints": [
      "React >=18.0.0 <19.0.0",
      "TypeScript >=5.0.0",
      "Webpack >=5.0.0",
      "Jest >=29.0.0",
      "Cypress >=12.0.0",
      "Chrome Extensions API Manifest V3",
      "Node.js >=18.0.0",
      "FontAwesome 6.x"
    ],
    "internal_packages": [
      "src/builders",
      "src/types",
      "src/components",
      "src/utils",
      "src/hooks",
      "src/services",
      "src/store",
      "src/replay",
      "background",
      "content_scripts",
      "popup"
    ]
  },
  "current_challenges": {
    "technical_debt": [
      "Partial migration to Manifest V3 with fallback for V2",
      "Need for improved error handling and centralized logging",
      "Refactoring to eliminate deprecated APIs",
      "Manual registration of new executors in factory",
      "Local persistence can grow indefinitely without pruning",
      "Limited modularization in build scripts",
      "Some any usage in CopyToClipboardFixed typing",
      "Pending implementation for dragAndDrop actions",
      "No explicit automated tests for some modules",
      "Pending migration for legacy url and firstUrl fields"
    ],
    "known_issues": [
      "Potential incompatibility of react-hot-loader with React 18+",
      "Limitations in capturing hover events in some contexts",
      "Limitations in capturing events in external iframes",
      "Chrome-only dependency",
      "Possible silent failure if chrome.storage.local is unavailable",
      "Scrollbar customization limited to WebKit browsers",
      "Possible latency in large recordings (>1000 actions)",
      "Possible loss of old screenshots to maintain quota",
      "Possible collision of IDs in simultaneous imports",
      "No mechanism to detect duplicate listeners"
    ],
    "performance_bottlenecks": [
      "Slow build in large projects",
      "Latency in script generation for long sessions",
      "Potential latency in local storage for extensive recordings",
      "Frequent state updates in rapid actions may impact performance",
      "Combinatorial selector generation and multiple querySelectorAll validations",
      "Rendering large tables without virtualization may cause slowness",
      "Screenshot storage and manipulation in base64 may impact memory",
      "Polling for retrySelector may impact performance if maxRetries is high"
    ],
    "migration_status": [
      "Migration to Manifest V3 completed",
      "Legacy fields still supported but being phased out",
      "Migration for urlOriginal and executionLogs partially implemented and tested",
      "No active migrations in progress"
    ]
  },
  "team_preferences": {
    "code_review_focus": [
      "Preserve hot reload functionality",
      "Code style consistency",
      "Performance",
      "Maintainability",
      "Test coverage",
      "Strong typing",
      "Security in permission usage",
      "Clear separation of responsibilities",
      "Consistent state and error handling",
      "Accessibility and responsiveness",
      "Correct async/await usage",
      "No side effects",
      "Consistent naming",
      "Clear documentation",
      "Robust error handling"
    ],
    "documentation_requirements": [
      "Document config changes",
      "Clear documentation for internal APIs and extension usage",
      "JSDoc for public functions and components",
      "Inline comments for business context",
      "Document hooks and async flows",
      "Document all exports with examples"
    ],
    "communication_style": [
      "Clear and concise comments",
      "Objective comments in Portuguese with technical terms in English",
      "Detailed PR descriptions",
      "Objective and technical comments",
      "Logs in English for standardization"
    ],
    "decision_log": [
      "Adopted react-app preset for simplicity",
      "Enabled react-hot-loader for dev experience",
      "Chose TypeScript for type safety",
      "Adopted Manifest V3 for Chrome and V2 for Firefox",
      "Singleton pattern for ReplayEngine",
      "Separation between recording and replay",
      "SVG for scalable icons",
      "Functional React components for UI",
      "Cypress as default test library",
      "First captured URL as unique session reference",
      "Debounce for storage optimization",
      "Pruning for quota control",
      "Dark mode unified via CSS variables",
      "BEM-like naming for modularity",
      "Virtual scrolling for performance",
      "EventBus for decoupling and extensibility",
      "Factory Pattern for executor creation",
      "Union types for message safety",
      "Strict TypeScript mode",
      "Manual mocks for Chrome API in tests"
    ]
  },
  "api_specifications": {
    "api_style": [
      "REST for DeploySentinel integration",
      "Event-driven Messaging API via chrome.runtime.onMessage",
      "Message Passing API via postMessage and chrome.runtime",
      "Chrome Extension Messaging API (event-driven)",
      "WebExtensions API"
    ],
    "versioning_strategy": [
      "Semantic versioning for external APIs",
      "Manifest versioning (V2/V3) for extension",
      "Migration version control via storage key",
      "No explicit versioning for internal messages"
    ],
    "response_formats": [
      "JSON",
      "JSON with success, error, and data fields",
      "Typed JSON messages for internal communication",
      "Base64 encoded image strings for screenshots"
    ],
    "rate_limiting": [
      "Rate limiting by DeploySentinel external service",
      "Debounce for local storage writes",
      "Throttle for screenshot capture (minimum 100ms interval)",
      "No explicit rate limiting for internal messages"
    ]
  },
  "deployment_context": {
    "environments": [
      "development",
      "staging",
      "production",
      "localhost",
      "DeploySentinel (https://*.deploysentinel.com/*)",
      "Chrome Web Store",
      "Firefox Add-ons Marketplace"
    ],
    "deployment_method": [
      "CI/CD pipelines",
      "Chrome Web Store",
      "Firefox Add-ons Marketplace",
      "Static hosting",
      "Docker",
      "Manual upload for testing"
    ],
    "environment_variables": [
      "NODE_ENV",
      "MANIFEST_VERSION",
      "CHROME_EXTENSION_ID",
      "DEPLOYSENTINEL_API_KEY",
      "API_URL",
      "PORT",
      "REACT_APP_ENVIRONMENT"
    ],
    "infrastructure_constraints": [
      "Browser extension API limitations",
      "Manifest V2/V3 compatibility",
      "Chrome/Firefox version compatibility",
      "Storage quota limits (~5MB)",
      "Permission restrictions by browser",
      "Execution limited to browser extension environment",
      "Shadow DOM support required",
      "Node.js local environment for development"
    ]
  },
  "lastCommitHash": "25ed84580fcaeb23a0db9d9daae27b6d4f310130"
}
